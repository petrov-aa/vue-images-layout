<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script src="js/script.js"></script>
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    <div class="container">
      <div id="app">
        <div id="images-container" class="images-container" :style="{height: containerHeight}">
          <image-item
          v-for="(image,index) in images"
          :key="image.id"
          :_id="image.id"
          :src="image.src"
          :width="image.width"
          :height="image.height"
          :count="images.length"
          :order="index"
          @changedragging="changeDraggingHander"
          @moving="imageItemMovingHandler"></image-item>
          <image-placeholder
          v-if="placeholderShown"
          :style="{left: placeholderX + 'px', top: placeholderY + 'px'}"></image-placeholder>
        </div>
        <div class="add-container">
          <ul>
            <li>
              Добавить:
            </li>
            <li class="add_picture">
              <button @click="addHandler('picture')">Изображение</button>
            </li>
            <li class="add_video">
              <button @click="addHandler('video')">Видео</button>
            </li>
            <li class="add_youtube">
              <button @click="addHandler('youtube')">YouTube-видео</button>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <script type="application/x-template" id="image-item">
      <div @mousedown="mouseDownHandler" class="image" :class="{dragging:dragging}" :style="componentStyle">
        <div class="image_img"><img @dragstart.prevent :src="src" :style="imgStyle"></div>
        <div class="image_panel"></div>
      </div>
    </script>
    <script type="application/x-template" id="image-placeholder">
      <div class="image-placeholder"></div>
    </script>
  </body>
</html>
